---
title: 关键的不同点
---

<Alert type="info">

## <Icon name="graduation-cap"></Icon> 你将学习到的

- 是什么让Cypress如此独特
- 它的架构与Selenium有何不同
- 新的测试方法在以前是不可能的

</Alert>

## 架构

大多数测试工具(如Selenium)通过在浏览器之外运行并跨网络执行远程命令来进行操作。cypress正好相反。_Cypress_ 将在与你的应用程序相同的运行循环中执行。

在Cypress后面是一个Node服务器进程。Cypress和Node进程不断通信、同步，并代表彼此执行任务。访问这两个部分(前、后)使我们能够实时响应应用程序的事件，同时在浏览器之外处理需要更高权限的任务。

Cypress也在网络层运行，通过阅读和改变网络流量的动态。这使得Cypress不仅可以修改进入和退出浏览器的所有内容，而且还可以更改可能影响其浏览器自动化能力的代码。

Cypress从上到下最终控制了整个自动化过程，这使它处于能够理解浏览器内外发生的一切的独特位置。这意味着Cypress能够提供比任何其他测试工具更一致的结果。

因为Cypress[本地安装](/guides/getting-started/installing-cypress)在您的机器上, 此外，它还可以进入操作系统执行自动化任务。 这使得执行任务，如[截屏，录像](/guides/guides/screenshots-and-videos), 常规的[文件系统操作](/api/commands/exec) 以及 [网络操作](/api/commands/request) 成为可能.

## 本地访问

因为Cypress在您的应用程序中操作，这意味着它可以本机访问每个对象。无论它是“window”、“document”、DOM元素、应用程序实例、函数、计时器、service worker，还是其他任何东西——你都可以在Cypress测试中访问它。没有对象序列化，没有在线协议——您可以访问所有内容。测试代码可以访问与应用程序代码相同的所有对象。

## 新型测试

拥有对您的应用程序、网络流量和对每个主机对象的本机访问的最终控制将解锁一种前所未有的新测试方式。Cypress让你改变应用程序工作方式的任何方面，而不是被“锁定”，无法轻易控制它。您可以像在单元测试中那样人为地创建这些状态，而不是缓慢而昂贵的测试，例如创建给定情况所需的状态。例如，你可以:

- [模拟](/api/commands/stub)浏览器或你的应用程序的功能，并强制他们在你的测试用例需要的行为。
- 公开数据存储(比如在Redux中)，这样您就可以通过编程直接从测试代码更改应用程序的状态。
- 通过强制服务器发送空响应来测试边界情况，如“空视图”。
- 通过[将响应状态码修改为500](/api/commands/route)来测试应用程序如何响应服务器上的错误.
- 直接修改DOM元素——就像强制显示隐藏的元素一样.
- 以编程方式使用第三方插件。您可以直接从测试代码中调用方法来控制它们，而不是对复杂的UI小部件(如多点选择、自动完成、下拉菜单、树视图或日历)进行处理。
- [防止谷歌Analytics在任何应用程序代码执行之前加载](/guides/references/configuration#blockHosts)
- 在应用程序转换到新页面或开始卸载时获得同步通知。
- [通过向前或向后移动控制时间](/api/commands/clock) ，以便计时器或轮询自动启动，而不必在测试中等待所需的时间。
- 添加您自己的事件监听器来响应您的应用程序。您可以更新应用程序代码，使其在Cypress中进行测试时表现不同。你可以在Cypress内控制WebSocket消息，有条件地加载第三方脚本，或者直接在你的应用程序上调用函数。

## 快捷方式

试图努力测试应用程序的各个领域?不喜欢一个动作产生的副作用?厌倦了一遍又一遍地重复相同的重复和缓慢的行动?对于大多数测试用例，您可以跳过它们。

Cypress可以防止你被迫总是“像用户一样”去生成给定情境的状态。使用Cypress，您可以以编程方式交互和控制您的应用程序。你不再需要使用UI来建立状态。

这意味着您不必访问登录页面，输入用户名和密码，并等待页面加载或重定向每次运行的测试。Cypress提供了使用快捷方式和编程方式登录的能力。使用像[' cy.request() '](api/commands/request)这样的命令，你可以直接发送HTTP请求，同时让这些请求与浏览器同步。cookie会自动发送并返回。担心歌珥吗?别这样，它完全被忽略了。你可以像用户一样选择何时进行测试，何时跳过缓慢而重复的部分。

## 抗脆弱

Cypress知道并理解应用程序中同步发生的所有事情。当页面加载和卸载时，它会得到通知。在触发事件时，Cypress不可能错过元素。Cypress甚至知道一个元素是如何快速动画和将[等待它停止动画](/guides/core-concepts/interacting-with-elements#Animations). 此外，它[自动等待元素变为可见](/guides/core-concepts/interacting-with-elements#Visibility), 到 [启用](/guides/core-concepts/interacting-with-elements#Disability), 以及 [停止被覆盖](/guides/core-concepts/interacting-with-elements#Covering). 当页面开始转换时，Cypress将暂停命令执行，直到下面的页面完全加载. 你甚至可以告诉Cypress[等待](/api/commands/wait)对特定的网络请求完成.

Cypress在浏览器中执行绝大多数命令，因此没有网络延迟。命令执行和驱动您的应用程序尽可能快地呈现。要处理具有复杂ui的现代JavaScript框架，可以使用断言告诉Cypress应用程序的理想状态。Cypress将自动等待您的应用程序到达此状态，然后再继续。您完全不需要手动等待或重试。Cypress会自动等待元素的存在，并且永远不会为您生成已经从DOM中分离出来的陈旧元素。

## 可调试能力

最重要的是，Cypress已经建立可用性。

有数百条自定义错误消息描述了Cypress未能通过测试的确切原因。

有一个丰富的UI，可以直观地显示命令执行、断言、网络请求、监视、存根、页面加载或URL更改。

Cypress对应用程序进行快照，并允许您时间旅行到命令运行时的状态。

您可以在测试运行时使用开发人员工具，您可以看到每个控制台消息、每个网络请求。您可以检查元素，甚至可以在规范代码或应用程序代码中使用调试器语句。没有保真度损失-您可以使用所有您已经熟悉的工具。这使您能够同时进行测试和开发。

## 折中

虽然Cypress有许多新的和强大的功能，但我们也做了一些重要的权衡，使之成为可能。

如果你想了解更多的话, 我们已经写了关于这个主题的[完整指南](/guides/references/trade-offs)。
